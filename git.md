Introduction to Git and Github
==============================
------------------------------------
Git
----
-------------------------------------
(Git is a free and open source distributed version control system for tracking changes in source code during software development)

-------------------------------------
#### User configuration
```sh
~$ git config --global user.email "me@example.com"
~$ git config --global user.name "My Name"
```
#### Working with git
```sh
~$ mkdir my_repo # creating a new repository
~$ cd my_repo
```
```sh
~$ git init # initializing empty git repository
~$ cp ../myfile.py . # copying the desired file to the working tree
~$ git add myfile.py # use 'git add .' for all files
~$ git status # get info of the current working tree
~$ git commit -m "some messages" # use 'git commit .' instead
```
```sh
~$ git commit -a -m "some messages" # add and commit using single line a
```
```sh
~$ git log --graph --oneline # to get history of all commit messages in one line
```

```3 stages: modified -> staged (git add) -> committed (git commit)```

#### Getting more info about changes
```sh
~$ git log # getting all commit details
~$ git show <commit id> # getting details about specific commit (put commit id)
~$ git log --stat # getting more details about log
```
```sh
~$ git add -p # watching new changes in staged with adding
~$ git diff --stage # watching new changes that staged
```

#### Delete or Rename
```sh
~$ ls -l # getting file list with details
~$ git rm filename.extension # removing file from git
~$ git status # checking status after removal
~$ git commit -m 'delete unneeded file' # after deleting, commit the changes
```
```sh
~$ git mv a.py z.py # renamed a.py -> z.py
~$ git status # checking status after renamed
~$ git commit -m 'new name z.py' # after renaming, commit the changes
```


| Command | Explanation |
| ------- | ----------- |
| git commit -a | stages file automatically |
| git log -p | produces patch text |
| git show | shows various objects |
| git diff | shows differences of different commits |
| git add -p | allows user to to interactively review patches to add to the current commit |
| git mv | moves a file |
| git rm | removes or deletes a file |

#### .gitignore
* a ```gitignore``` file actually tells git which file to ignore when making a commit
* To ignore ```.DS_STORE``` file, automatically generated by OS
```sh
~$ echo .DS_STORE > .gitignore # creating .gitignore file
~$ git add .gitignore
~$ git commit -m 'add a gitignore file, ignoring .DS_STORE files'
```
#### Undoing changes before commiting (unstaged)
* **checkout** - git checkout restores files to the latest stored snapshot, reverting any changes before staging

** *do some change to any file and go for next instructions -* **
```sh
~$ git status # get modified message
~$ git checkout my_file.py # restore the changes back
~$ git status # now everything looks fine
```
#### Undoing changes after committed (staged)
* **git reset** - git reset used to remove changes from the staging area.

```sh
~$ python3 a.py > output.txt # new file output.txt added
~$ git add * # add all files to git
~$ git status # new file output.txt
~$ git reset HEAD output.txt # remove unwanted changes (output.txt)
~$ git status # now output.txt file untracked from staging area
~$ git commit -m "now ok!" # finally commit the changes
```

#### Amending commits
* ```git commit --amend``` - allows us to overwrite the previous commit
```sh
~$ touch d.py e .py # new two file created
~$ git add d.py
~$ git commit -m "two file committed" # this commit message is carrying wrong info as I forgot to add two files
~$ git add e .py # added e.py too
~$ git commit --amend # now add the new commit with overwriting previous one
```

#### Rollbacks
* **Rollback** - if we commit a code that contains bug, we can use rollback to go back to previous commit
* So, git revert is basically a new commit which is created with inverse changes. It cancels previous changes. [a bit like undo command]
* Let's create a python code with bug to check out. Also run it to test that it's actually buggy. Now -
```sh
~$ git commit -a -m 'add f.py' # add and commit new buggy file f.py
~$ git revert HEAD # now add the reason of rollback in the commit message
~$ git log -p -2 # to get last two entries in the log, -p means patch created by the commit, -2 limits the output of last 2 entries
~$ git add e .py # added e.py too
~$ git commit --amend # now add the new commit with overwriting previous one
```

#### About commit id
* **Commit id** - it's a ```SHA-1``` hash key uses to guarantee the consistency of our repository, length is ```40```
```sh
~$ python3 a.py > output.txt # new file output.txt added
~$ git add * # add all files to git
~$ git status # new file output.txt
~$ git reset HEAD output.txt # remove unwanted changes (output.txt)
~$ git status # now output.txt file untracked from staging area
~$ git commit -m "now ok!" # finally commit the changes
```

Branching and Merging
---------------------
* **Branch** - is a pointer to a particular commit.
* Default branch is called - ```'master'```
* The purpose of organizing repositories into branches - to enable changes to be worked on without disrupting the most current working directory.
* So, by creating new branches - we can experiment without breaking what already works.

#### Creating branches
* We can use the git ```$ branch command``` to list, create, delete and manipulate branches.
```sh
~$ git branch # now only 'master' branch
~$ git branch new-feature # a new branch created
~$ git branch # now we get two branches (master, new-feature)
```
```sh
# We can use git checkout to check out the latest snapshot for both files and for branches.
~$ git checkout new-feature # star moves to 'new-feature' branch, check it by 'git branch'
```
```sh
# create a new branch and switch into it with a single command
~$ git checkout -b even-new-feature
```
** *now create a new file and commit it into the new branch. [git add s.py], [git commit -m "some message"]* **
```sh
~$ git log -2 # now check this last two commits and you should notice your HEAD is pointing to the new branch
````
#### Delete branch
** *Recap : git status, git checkout master, git log -2 and see the changes. Now the HEAD branch is 'master'.* **
```sh
~$ git branch -d new-feature # 'new-feature' branch is deleted
~$ git branch -D even-new-feature # delete unmerged branch
```
#### Merging
* When we merge two branches, both branches are pointed at the same commit. Merging combines the data and history together.
* Git uses two different algorithms to perform a merge :
    - fast forward
    - three-way merge.
```sh
~$ git merge even-new-feature
```
** *As the ```HEAD``` pointing to ```'master'``` previously, after this merge command, it merge the two branches together with all data and history ```(HEAD -> master, even-new-feature)```* **

#### Merge conflict
* The advantages of git throwing a merge conflict in case of overlap - it prevents loss of work if two lines overlap.
* If two lines have differences git is unsure about, it's better we decide than risk of losing work forever.

** *Create a new file, add and commit it into git. Then checkout a new branch and do some changes in the file and again add and commit it into the new branch. Then try the merge operation. it will show merge conflict.* **

** *Now, check the error by (git status) and then fix the error by editing this file.o check all commit messages and tree, use the command (git log --graph --oneline)* **

**solution:**
** *in case we need to escape, and it will revert back to the last commit that happened before the merge commit* **
```sh
~$ git merge --abort
```

| Command | Explanation |
| ------- | ----------- |
| git branch | used to manage branches |
| git branch ```<name>``` | creates new branch |
|git branch -d ```<name>``` | delete branch |
| git branch -D ```<name>``` | forcibly delete branch |
| git checkout ```<branch>``` | switches to a branch |
| git checkout -b <branch> | creates a new branch and switches to it |
| git merge <branch> | merge joins branches together |
| git merge --abort | if there are merge conflicts (meaning files are incompatible), it aborts merge action |
| git log --graph --oneline | shows summarize view of the commit history|
----------------------------------------
#### [Before Version Control]()
#### [Github Command]()
